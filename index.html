<!DOCTYPE html>
<html>
<head>
    <title>ComzyRTC Test</title>
</head>
<body>
    <h1>ComzyRTC Test Page</h1>

    <!-- User Inputs -->
    <div>
        <label for="callerId">Caller ID (user1):</label>
        <input type="text" id="callerId" placeholder="Enter caller ID"><br>

        <label for="calleeId">Callee ID (user2):</label>
        <input type="text" id="calleeId" placeholder="Enter callee ID">
    </div>

    <!-- Video Elements -->
    <div style="margin-top: 10px;">
        <video id="localVideo" autoplay muted width="300" height="200" style="border: 1px solid black;"></video>
        <video id="remoteVideo" autoplay width="300" height="200" style="border: 1px solid black;"></video>
    </div>

    <!-- Control Buttons -->
    <div style="margin-top: 10px;">
        <button onclick="startCall()">Start Call</button>
        <button onclick="endCall()">End Call</button>
        <button onclick="toggleVideo()">Toggle Video</button>
        <button onclick="toggleAudio()">Toggle Audio</button>
    </div>

    <!-- Status -->
    <div id="status" style="margin-top: 10px;">Ready</div>

    <script src="comzy-web.min.js"></script>
    <script>
        const rtc = new ComzyRTC();

        rtc.on('callStarted', () => {
            document.getElementById('status').textContent = 'Call Started';
        });

        rtc.on('callEnded', () => {
            document.getElementById('status').textContent = 'Call Ended';
        });

        rtc.on('error', (error) => {
            document.getElementById('status').textContent = 'Error: ' + error.message;
        });

        function startCall() {
            const user1 = document.getElementById('callerId').value.trim();
            const user2 = document.getElementById('calleeId').value.trim();

            if (!user1 || !user2) {
                document.getElementById('status').textContent = 'Please enter both user IDs.';
                return;
            }

            rtc.init('key_52abac8e6db09f157337cc795fa065a46eb7084af0b59cae902cadd90f0c6994', user1, user2);
            rtc.startCall('#localVideo', '#remoteVideo');
        }

        function endCall() {
            rtc.endCall();
        }

        function toggleVideo() {
            const enabled = rtc.toggleVideo();
            console.log('Video enabled:', enabled);
        }

        function toggleAudio() {
            const enabled = rtc.toggleAudio();
            console.log('Audio enabled:', enabled);
        }
    </script>
</body>
</html>


